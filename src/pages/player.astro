---
import { Icon } from "astro-icon/components";
import PlayerBadge from "../components/PlayerBadge.astro";
import SearchBar from "../components/SearchBar.astro";
import Layout from "../layouts/Layout.astro";
import { SolidDungeons, SolidGrandMasters, SolidExoticMissions, SolidRaids } from "../components/DisplayActivities.tsx";
---

<Layout title="Guardian Rank Report">
	<script>
		import { GetInformationForMember } from "../stores/destinyPlayerData";

		window.addEventListener("DOMContentLoaded", async () => {
			const url = new URL(window.location.href);
			const params = new URLSearchParams(url.search);
			const bungieNetMembershipIdName = "id";
			const membershipTypeName = "type";
			const bungieNetMembershipId = params.get(bungieNetMembershipIdName);
			const membershipType = params.get(membershipTypeName);
			GetInformationForMember(bungieNetMembershipId!, parseInt(membershipType!));
		});
	</script>
		<div class="content">
			<PlayerBadge />
			<div>
				<div
					style="color:#ffffffbf; font-family: 'Neue Haas Grotesk Text Pro','Helvetica', 'Arial', sans-serif; display: flex; flex-flow: row wrap; gap: 10px;">
					<div class="activityGroup">
						<div class="activityGroupCard">
							<SolidRaids client:load>
								<Icon slot="loading" name="spinner" style="height: auto;width: auto; margin:auto 5px; color: white; opacity:50%;" is:inline />
							</SolidRaids>
						</div>
					</div>
					<div class="activityGroup">
						<div class="activityGroupCard">
							<SolidDungeons client:load>
								<Icon slot="loading" name="spinner" style="height: auto;width: auto; margin:auto 5px; color: white; opacity:50%;" is:inline />
							</SolidDungeons>
						</div>
					</div>
					<div class="activityGroup">
						<div class="activityGroupCard">
							<SolidGrandMasters client:load>
								<Icon slot="loading" name="spinner" style="height: auto;width: auto; margin:auto 5px; color: white; opacity:50%;" is:inline />
							</SolidGrandMasters>
						</div>
					</div>

					<div class="activityGroup">
						<div class="activityGroupCard">
							<SolidExoticMissions client:load>
								<Icon slot="loading" name="spinner" style="height: auto;width: auto; margin:auto 5px; color: white; opacity:50%;" is:inline />
							</SolidExoticMissions>
						</div>
					</div>
				</div>
			</div>
		</div>
</Layout>

<style>
	.activityGroup {
		display: flex;
		flex-direction: column;
		flex-grow: 1;
		margin: 0 auto;
		min-width: 474px;
		max-width: calc(50% - 5px);
		cursor: default;
		user-select: none;
	}
	.activityGroupCard {
		outline: 2px solid;
		outline-offset: 4px;
		outline-color: transparent;
		color: #d2d2d2;
		transition:
			outline-offset 0.08s cubic-bezier(0.69, 0, 0, 1) 0.125s,
			outline-color 0.13s cubic-bezier(0.69, 0, 0, 1) 0.125s,
			border-color 0.125s cubic-bezier(0.69, 0, 0, 1),
			color 0.125s cubic-bezier(0.69, 0, 0, 1),
			background-color 0.125s cubic-bezier(0.69, 0, 0, 1);
	}
	.activityGroupCard:hover {
		background: #ffffff2f;
		outline-color: #d8d8d8;
		outline-offset: 2px;
		transition:
			outline-offset 0.05s cubic-bezier(0.69, 0, 0, 1) 0.05s,
			outline-color 0.15s linear 0.05s,
			color 0.05s linear 0.15s;
	}

</style>
